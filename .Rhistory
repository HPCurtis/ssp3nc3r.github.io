# just to remove padding above, below data
scale_y_continuous(expand = c(0, 0)) +
# various labels and annotations
# lighten lower quantile of data
annotate("rect",
xmin = 0,
ymin = 0,
xmax = quantile(uncertainty, probs = .1),
ymax = 5,
fill = "#ffffff",
alpha = .5) +
# lighten upper quantile of data
annotate("rect",
xmin = quantile(uncertainty, probs = .9),
ymin = 0,
xmax = 1,
ymax = 5,
fill = "#ffffff",
alpha = .5) +
# Draw vertical white lines on quantiles
geom_vline(xintercept = quantile(uncertainty,
probs = c(.1, .5, .9)),
color = "#ffffff") +
# draw vertical blue line on 50% or coin flip and label it as such
geom_vline(xintercept = .5,
color = "#407AAA",
linetype = "dashed") +
annotate("text",
x = .496,
y = 4.2,
label = "coin",
size = 5,
color = "#000000",
hjust = 1,
fontface = "bold") +
annotate("text",
x = .496,
y = 4,
label = "loss",
size = 5,
color = "#407AAA",
hjust = 1,
fontface = "bold") +
annotate("text",
x = .504,
y = 4.2,
label = "flip",
size = 5,
color = "#000000",
hjust = 0,
fontface = "bold") +
annotate("text",
x = .504,
y = 4,
label = "win",
size = 5,
color = "#407AAA",
hjust = 0,
fontface = "bold") +
# annotate median of probability
annotate("text",
x = median(uncertainty) + .01,
y = .5,
label = "Probability of\nteam win for\nmaximum attendance",
hjust = 0,
size = 2.5,
fontface = "bold",
lineheight = .8) +
# annotate equations
annotate("text",
x = 0, y = 1,
label = TeX(eqn),
size = 2.8,
color = "#aaaaaa",
hjust = 0) +
annotate("text",
x = 0,
y = 0.5,
label=TeX(eqn2),
size = 2.8,
color = "#aaaaaa",
hjust = 0) +
# additional overall theme (non-data-ink) changes
theme(axis.ticks = element_blank(),
axis.text.y = element_blank(),
axis.text.x = element_text(size = 12, face = "bold", color = "#666666"),
axis.title.y = element_blank(),
plot.title = element_text(size = 14, color = "#888888", face = "bold"),
plot.subtitle = element_text(size = 11, color = "#999999", face = "italic"),
plot.caption = element_text(size = 8, color = "#888888")) +
# labeling for graphic
labs(x = "",
title = paste0("More fans generally pay admission to our games when\n",
"the chance of winning was near a median of ",
signif(median(uncertainty), 2), "."),
subtitle = "Fans want favorable odds without predicting the outcome.",
caption = "Sources: Pinnacle betting data, 2016; Retrosheet Gamelogs, 2016")
quantile(uncertainty,
probs = c(.1, .5, .9)
)
quantile(uncertainty, probs = 0.5)
round(quantile(uncertainty, probs = 0.5), 1)
round(quantile(uncertainty, probs = 0.5), 2)
round(quantile(uncertainty, probs = 0.5), 2) * 100
blogdown:::serve_site()
install.packages("patchwork")
rmarkdown::draft("dashboard.Rmd", template = "flex_dashboard", package = "flexdashboard")
library(ggplot2)
ggplot(mtcars) + geom_point(aes(mpg, hp))
ids <- factor(c("1.1", "2.1", "1.2", "2.2", "1.3", "2.3"))
values <- data.frame(
id = ids,
value = c(3, 3.1, 3.1, 3.2, 3.15, 3.5)
)
positions <- data.frame(
id = rep(ids, each = 4),
x = c(2, 1, 1.1, 2.2, 1, 0, 0.3, 1.1, 2.2, 1.1, 1.2, 2.5, 1.1, 0.3,
0.5, 1.2, 2.5, 1.2, 1.3, 2.7, 1.2, 0.5, 0.6, 1.3),
y = c(-0.5, 0, 1, 0.5, 0, 0.5, 1.5, 1, 0.5, 1, 2.1, 1.7, 1, 1.5,
2.2, 2.1, 1.7, 2.1, 3.2, 2.8, 2.1, 2.2, 3.3, 3.2)
)
# Currently we need to manually merge the two together
datapoly <- merge(values, positions, by = c("id"))
p <- ggplot(datapoly, aes(x = x, y = y)) +
geom_polygon(aes(fill = value, group = id))
p
View(values)
View(positions)
install.packages("transformr")
install.packages("grConvert")
install.packages("grImport2")
library(grImport2)
simple <- readPicture("simple.svg")
simple <- readPicture("~/desktop/family-crest-bell-flower.svg")
library(grConvert)
install.packages("grConvert")
devtools::install_github("sjp/grConvert")
library(Cairo)
devtools::install_github("sjp/grConvert")
blogdown:::serve_site()
library(ggplot2); library(ggthemes)
theme_economist
ggplot(mtcars) + theme_economist() + geom_point(aes(mph, hp))
ggplot(mtcars) + theme_economist() + geom_point(aes(mpg, hp))
ggplot(mtcars) + theme_economist() + geom_point(aes(mpg, hp)) + theme(plot.background = element_blank())
ggplot(mtcars) + theme_economist() + geom_point(aes(mpg, hp)) + theme(panel.background = element_blank())
blogdown:::serve_site()
blogdown:::new_post_addin()
glyph <- "380.5,141 382.3,142 397.6,148.6 402.5,158.5 403.5,163.6 403.5,168.7 407.3,171.6 408.4,182.9 404.5,188.3 404.5,194.7 404.5,200.5 409,200 413.3,201.8 415.9,213.6 423.5,220.9 426.9,224.8 433.8,240.9 435.4,249.2 435.5,259.7 436.7,273.7 437.7,280.8 438.5,288.4 438.5,295.9 438.6,314.4 437.3,333.5 434.7,345.3 434.4,349.1 440.4,364.6 438,367 430.8,367 429.6,373.5 430.4,384.6 420.2,409.9 403.2,424.1 398.6,428.9 396,432.9 390.5,438.6 385.6,446.6 381.6,458.9 374.2,476.8 369.6,486.4 366.6,496.7 366.5,505.4 370.4,511.6 373.5,523.7 376.5,535 377.5,539.6 378.5,543.7 378.5,545.1 379.5,579.7 379.6,598.7 382.6,615.9 385.2,619.2 387.3,635.2 384.3,650.6 378.1,652 371.1,652 364.9,651.2 358.9,650.1 356.5,650 343.5,650.1 332.5,652.5 332.5,653 329.5,653 329.5,651.2 323.7,650.2 317.7,650.8 315.1,646.8 306.9,647.6 304.6,643.2 304.6,636.5 308.4,633.1 313.9,632 320,631 321,631 341.4,623.6 351.6,614.3 354.5,609.3 354.3,597.1 352.6,584.9 349.2,573.3 343,556.9 340.6,548.9 337.5,536.6 335.7,530.9 330.1,519.2 323.8,506.8 323.5,504.4 323.5,489.9 324.5,483.3 325.3,477.2 324.7,469.6 324.5,467.2 327.7,449.5 330.3,440.6 332.7,432 335.5,421.2 338.4,410.4 340.6,398.8 341.6,384.8 314.5,356.4 299.5,337.6 295,332 293.5,340.4 291.4,348.5 280.1,367.8 268.2,386 265.4,393.3 258.5,411.8 258.5,417.4 256.3,426.5 244.4,447.6 241.8,450.4 237.5,447.5 229.4,444 223.4,438.8 219.1,434.1 207.6,425.6 204.5,424.6 193.5,421.5 183.2,413.9 175.7,407.5 174.5,401.5 175.5,395.5 178.8,392.2 191.2,394.2 195.9,396 201.2,397.9 206.2,399 222.8,399.9 240.7,387.6 249.5,364.3 252.6,348.1 257.8,330.2 260.5,319.3 261.5,313.7 262.3,308.1 261.5,302.1 269.3,292 269.3,288.7 271.2,286.7 277.9,281.3 285.4,280 309.2,285.3 322.1,290.5 317.3,282.2 311.9,275.1 310,274.9 306.4,268.8 306.2,261.5 305.4,250.6 302.7,243.2 300.1,239.1 296.1,239.1 289.5,232.5 284.4,226.4 281.5,229.4 281,228.7 268,231.1 269.7,229.2 262.5,228.8 273.5,226.9 283.3,221.4 285.3,210.1 286.6,202.1 290.5,189.7 293.5,186 299.9,178.1 304.5,176 321.2,170 334.4,174 339.6,175.8 343.4,180.6 346.5,189.9 346.5,191.3 346.7,202.4 347.3,210.5 342,224.8 340.5,229.7 339.6,243.4 343.2,239.7 351.6,236 368.7,226.7 367.2,221.3 364.6,210.9 361.3,199.2 360,195.9 353.9,188.8 352.2,178.4 354.5,174.2 353.5,163.6 357.8,150.4 368.8,142.1 372.5,141 380.5,141"
path <- "380.5,141 382.3,142 397.6,148.6 402.5,158.5 403.5,163.6 403.5,168.7 407.3,171.6 408.4,182.9 404.5,188.3 404.5,194.7 404.5,200.5 409,200 413.3,201.8 415.9,213.6 423.5,220.9 426.9,224.8 433.8,240.9 435.4,249.2 435.5,259.7 436.7,273.7 437.7,280.8 438.5,288.4 438.5,295.9 438.6,314.4 437.3,333.5 434.7,345.3 434.4,349.1 440.4,364.6 438,367 430.8,367 429.6,373.5 430.4,384.6 420.2,409.9 403.2,424.1 398.6,428.9 396,432.9 390.5,438.6 385.6,446.6 381.6,458.9 374.2,476.8 369.6,486.4 366.6,496.7 366.5,505.4 370.4,511.6 373.5,523.7 376.5,535 377.5,539.6 378.5,543.7 378.5,545.1 379.5,579.7 379.6,598.7 382.6,615.9 385.2,619.2 387.3,635.2 384.3,650.6 378.1,652 371.1,652 364.9,651.2 358.9,650.1 356.5,650 343.5,650.1 332.5,652.5 332.5,653 329.5,653 329.5,651.2 323.7,650.2 317.7,650.8 315.1,646.8 306.9,647.6 304.6,643.2 304.6,636.5 308.4,633.1 313.9,632 320,631 321,631 341.4,623.6 351.6,614.3 354.5,609.3 354.3,597.1 352.6,584.9 349.2,573.3 343,556.9 340.6,548.9 337.5,536.6 335.7,530.9 330.1,519.2 323.8,506.8 323.5,504.4 323.5,489.9 324.5,483.3 325.3,477.2 324.7,469.6 324.5,467.2 327.7,449.5 330.3,440.6 332.7,432 335.5,421.2 338.4,410.4 340.6,398.8 341.6,384.8 314.5,356.4 299.5,337.6 295,332 293.5,340.4 291.4,348.5 280.1,367.8 268.2,386 265.4,393.3 258.5,411.8 258.5,417.4 256.3,426.5 244.4,447.6 241.8,450.4 237.5,447.5 229.4,444 223.4,438.8 219.1,434.1 207.6,425.6 204.5,424.6 193.5,421.5 183.2,413.9 175.7,407.5 174.5,401.5 175.5,395.5 178.8,392.2 191.2,394.2 195.9,396 201.2,397.9 206.2,399 222.8,399.9 240.7,387.6 249.5,364.3 252.6,348.1 257.8,330.2 260.5,319.3 261.5,313.7 262.3,308.1 261.5,302.1 269.3,292 269.3,288.7 271.2,286.7 277.9,281.3 285.4,280 309.2,285.3 322.1,290.5 317.3,282.2 311.9,275.1 310,274.9 306.4,268.8 306.2,261.5 305.4,250.6 302.7,243.2 300.1,239.1 296.1,239.1 289.5,232.5 284.4,226.4 281.5,229.4 281,228.7 268,231.1 269.7,229.2 262.5,228.8 273.5,226.9 283.3,221.4 285.3,210.1 286.6,202.1 290.5,189.7 293.5,186 299.9,178.1 304.5,176 321.2,170 334.4,174 339.6,175.8 343.4,180.6 346.5,189.9 346.5,191.3 346.7,202.4 347.3,210.5 342,224.8 340.5,229.7 339.6,243.4 343.2,239.7 351.6,236 368.7,226.7 367.2,221.3 364.6,210.9 361.3,199.2 360,195.9 353.9,188.8 352.2,178.4 354.5,174.2 353.5,163.6 357.8,150.4 368.8,142.1 372.5,141 380.5,141"
path <-  gsub(' ', ',', path)
path <- "380.5,141 382.3,142 397.6,148.6 402.5,158.5 403.5,163.6 403.5,168.7 407.3,171.6 408.4,182.9 404.5,188.3 404.5,194.7 404.5,200.5 409,200 413.3,201.8 415.9,213.6 423.5,220.9 426.9,224.8 433.8,240.9 435.4,249.2 435.5,259.7 436.7,273.7 437.7,280.8 438.5,288.4 438.5,295.9 438.6,314.4 437.3,333.5 434.7,345.3 434.4,349.1 440.4,364.6 438,367 430.8,367 429.6,373.5 430.4,384.6 420.2,409.9 403.2,424.1 398.6,428.9 396,432.9 390.5,438.6 385.6,446.6 381.6,458.9 374.2,476.8 369.6,486.4 366.6,496.7 366.5,505.4 370.4,511.6 373.5,523.7 376.5,535 377.5,539.6 378.5,543.7 378.5,545.1 379.5,579.7 379.6,598.7 382.6,615.9 385.2,619.2 387.3,635.2 384.3,650.6 378.1,652 371.1,652 364.9,651.2 358.9,650.1 356.5,650 343.5,650.1 332.5,652.5 332.5,653 329.5,653 329.5,651.2 323.7,650.2 317.7,650.8 315.1,646.8 306.9,647.6 304.6,643.2 304.6,636.5 308.4,633.1 313.9,632 320,631 321,631 341.4,623.6 351.6,614.3 354.5,609.3 354.3,597.1 352.6,584.9 349.2,573.3 343,556.9 340.6,548.9 337.5,536.6 335.7,530.9 330.1,519.2 323.8,506.8 323.5,504.4 323.5,489.9 324.5,483.3 325.3,477.2 324.7,469.6 324.5,467.2 327.7,449.5 330.3,440.6 332.7,432 335.5,421.2 338.4,410.4 340.6,398.8 341.6,384.8 314.5,356.4 299.5,337.6 295,332 293.5,340.4 291.4,348.5 280.1,367.8 268.2,386 265.4,393.3 258.5,411.8 258.5,417.4 256.3,426.5 244.4,447.6 241.8,450.4 237.5,447.5 229.4,444 223.4,438.8 219.1,434.1 207.6,425.6 204.5,424.6 193.5,421.5 183.2,413.9 175.7,407.5 174.5,401.5 175.5,395.5 178.8,392.2 191.2,394.2 195.9,396 201.2,397.9 206.2,399 222.8,399.9 240.7,387.6 249.5,364.3 252.6,348.1 257.8,330.2 260.5,319.3 261.5,313.7 262.3,308.1 261.5,302.1 269.3,292 269.3,288.7 271.2,286.7 277.9,281.3 285.4,280 309.2,285.3 322.1,290.5 317.3,282.2 311.9,275.1 310,274.9 306.4,268.8 306.2,261.5 305.4,250.6 302.7,243.2 300.1,239.1 296.1,239.1 289.5,232.5 284.4,226.4 281.5,229.4 281,228.7 268,231.1 269.7,229.2 262.5,228.8 273.5,226.9 283.3,221.4 285.3,210.1 286.6,202.1 290.5,189.7 293.5,186 299.9,178.1 304.5,176 321.2,170 334.4,174 339.6,175.8 343.4,180.6 346.5,189.9 346.5,191.3 346.7,202.4 347.3,210.5 342,224.8 340.5,229.7 339.6,243.4 343.2,239.7 351.6,236 368.7,226.7 367.2,221.3 364.6,210.9 361.3,199.2 360,195.9 353.9,188.8 352.2,178.4 354.5,174.2 353.5,163.6 357.8,150.4 368.8,142.1 372.5,141 380.5,141"
path <-  gsub(' ', ',', path)
path <-  as.numeric(unlist(strsplit(path, ',')))
glyph <- data.frame(xsh = path[ c(T,F) ],
ysh = path[ c(F,T) ],
id  = 1)
glyph <- glyph %>% mutate(xsh = mean(xsh) - xsh,
ysh = mean(ysh) - ysh)
glyph$xsh <- with(glyph, mean(xsh) - xsh)
glyph$xsh <- with(glyph, mean(ysh) - ysh)
library(ggplot2)
ggplot(glyph) +
theme_minimal() +
geom_poly(aes(x = xsh, y = ysh, group = id)) +
labs(x = 'x coordinates', 'y coordinates')
library(ggplot2)
ggplot(glyph) +
theme_minimal() +
geom_polygon(aes(x = xsh, y = ysh, group = id)) +
labs(x = 'x coordinates', 'y coordinates')
ggplot(glyph) +
theme_minimal() +
geom_polygon(aes(x = xsh, y = ysh, group = id),
color = 'black', fill = 'lightblue') +
labs(x = 'x coordinates', 'y coordinates')
glyph$ysh <- with(glyph, mean(ysh) - ysh)
ggplot(glyph) +
theme_minimal() +
geom_polygon(aes(x = xsh, y = ysh, group = id),
color = 'black', fill = 'lightblue') +
labs(x = 'x coordinates', 'y coordinates')
path <- "380.5,141 382.3,142 397.6,148.6 402.5,158.5 403.5,163.6 403.5,168.7 407.3,171.6 408.4,182.9 404.5,188.3 404.5,194.7 404.5,200.5 409,200 413.3,201.8 415.9,213.6 423.5,220.9 426.9,224.8 433.8,240.9 435.4,249.2 435.5,259.7 436.7,273.7 437.7,280.8 438.5,288.4 438.5,295.9 438.6,314.4 437.3,333.5 434.7,345.3 434.4,349.1 440.4,364.6 438,367 430.8,367 429.6,373.5 430.4,384.6 420.2,409.9 403.2,424.1 398.6,428.9 396,432.9 390.5,438.6 385.6,446.6 381.6,458.9 374.2,476.8 369.6,486.4 366.6,496.7 366.5,505.4 370.4,511.6 373.5,523.7 376.5,535 377.5,539.6 378.5,543.7 378.5,545.1 379.5,579.7 379.6,598.7 382.6,615.9 385.2,619.2 387.3,635.2 384.3,650.6 378.1,652 371.1,652 364.9,651.2 358.9,650.1 356.5,650 343.5,650.1 332.5,652.5 332.5,653 329.5,653 329.5,651.2 323.7,650.2 317.7,650.8 315.1,646.8 306.9,647.6 304.6,643.2 304.6,636.5 308.4,633.1 313.9,632 320,631 321,631 341.4,623.6 351.6,614.3 354.5,609.3 354.3,597.1 352.6,584.9 349.2,573.3 343,556.9 340.6,548.9 337.5,536.6 335.7,530.9 330.1,519.2 323.8,506.8 323.5,504.4 323.5,489.9 324.5,483.3 325.3,477.2 324.7,469.6 324.5,467.2 327.7,449.5 330.3,440.6 332.7,432 335.5,421.2 338.4,410.4 340.6,398.8 341.6,384.8 314.5,356.4 299.5,337.6 295,332 293.5,340.4 291.4,348.5 280.1,367.8 268.2,386 265.4,393.3 258.5,411.8 258.5,417.4 256.3,426.5 244.4,447.6 241.8,450.4 237.5,447.5 229.4,444 223.4,438.8 219.1,434.1 207.6,425.6 204.5,424.6 193.5,421.5 183.2,413.9 175.7,407.5 174.5,401.5 175.5,395.5 178.8,392.2 191.2,394.2 195.9,396 201.2,397.9 206.2,399 222.8,399.9 240.7,387.6 249.5,364.3 252.6,348.1 257.8,330.2 260.5,319.3 261.5,313.7 262.3,308.1 261.5,302.1 269.3,292 269.3,288.7 271.2,286.7 277.9,281.3 285.4,280 309.2,285.3 322.1,290.5 317.3,282.2 311.9,275.1 310,274.9 306.4,268.8 306.2,261.5 305.4,250.6 302.7,243.2 300.1,239.1 296.1,239.1 289.5,232.5 284.4,226.4 281.5,229.4 281,228.7 268,231.1 269.7,229.2 262.5,228.8 273.5,226.9 283.3,221.4 285.3,210.1 286.6,202.1 290.5,189.7 293.5,186 299.9,178.1 304.5,176 321.2,170 334.4,174 339.6,175.8 343.4,180.6 346.5,189.9 346.5,191.3 346.7,202.4 347.3,210.5 342,224.8 340.5,229.7 339.6,243.4 343.2,239.7 351.6,236 368.7,226.7 367.2,221.3 364.6,210.9 361.3,199.2 360,195.9 353.9,188.8 352.2,178.4 354.5,174.2 353.5,163.6 357.8,150.4 368.8,142.1 372.5,141 380.5,141"
path <-  gsub(' ', ',', path)
path <-  as.numeric(unlist(strsplit(path, ',')))
glyph <- data.frame(xsh = path[ c(T,F) ],
ysh = path[ c(F,T) ],
id  = 1)
glyph$xsh <- with(glyph, mean(xsh) - xsh)
glyph$ysh <- with(glyph, mean(ysh) - ysh)
library(ggplot2)
ggplot(glyph) +
theme_minimal() +
geom_polygon(aes(x = xsh, y = ysh, group = id),
color = 'black', fill = 'lightblue') +
labs(x = 'x coordinates', 'y coordinates')
library(ggplot2)
ggplot(glyph) +
theme_minimal() +
coord_equal() +
geom_polygon(aes(x = xsh, y = ysh, group = id),
color = 'black', fill = 'lightblue') +
labs(x = 'x coordinates', 'y coordinates')
glyph$xsh <- with(glyph, (mean(xsh) - xsh) / max(xsh, ysh) )
glyph$ysh <- with(glyph, mean(ysh) - ysh )
path <- "380.5,141 382.3,142 397.6,148.6 402.5,158.5 403.5,163.6 403.5,168.7 407.3,171.6 408.4,182.9 404.5,188.3 404.5,194.7 404.5,200.5 409,200 413.3,201.8 415.9,213.6 423.5,220.9 426.9,224.8 433.8,240.9 435.4,249.2 435.5,259.7 436.7,273.7 437.7,280.8 438.5,288.4 438.5,295.9 438.6,314.4 437.3,333.5 434.7,345.3 434.4,349.1 440.4,364.6 438,367 430.8,367 429.6,373.5 430.4,384.6 420.2,409.9 403.2,424.1 398.6,428.9 396,432.9 390.5,438.6 385.6,446.6 381.6,458.9 374.2,476.8 369.6,486.4 366.6,496.7 366.5,505.4 370.4,511.6 373.5,523.7 376.5,535 377.5,539.6 378.5,543.7 378.5,545.1 379.5,579.7 379.6,598.7 382.6,615.9 385.2,619.2 387.3,635.2 384.3,650.6 378.1,652 371.1,652 364.9,651.2 358.9,650.1 356.5,650 343.5,650.1 332.5,652.5 332.5,653 329.5,653 329.5,651.2 323.7,650.2 317.7,650.8 315.1,646.8 306.9,647.6 304.6,643.2 304.6,636.5 308.4,633.1 313.9,632 320,631 321,631 341.4,623.6 351.6,614.3 354.5,609.3 354.3,597.1 352.6,584.9 349.2,573.3 343,556.9 340.6,548.9 337.5,536.6 335.7,530.9 330.1,519.2 323.8,506.8 323.5,504.4 323.5,489.9 324.5,483.3 325.3,477.2 324.7,469.6 324.5,467.2 327.7,449.5 330.3,440.6 332.7,432 335.5,421.2 338.4,410.4 340.6,398.8 341.6,384.8 314.5,356.4 299.5,337.6 295,332 293.5,340.4 291.4,348.5 280.1,367.8 268.2,386 265.4,393.3 258.5,411.8 258.5,417.4 256.3,426.5 244.4,447.6 241.8,450.4 237.5,447.5 229.4,444 223.4,438.8 219.1,434.1 207.6,425.6 204.5,424.6 193.5,421.5 183.2,413.9 175.7,407.5 174.5,401.5 175.5,395.5 178.8,392.2 191.2,394.2 195.9,396 201.2,397.9 206.2,399 222.8,399.9 240.7,387.6 249.5,364.3 252.6,348.1 257.8,330.2 260.5,319.3 261.5,313.7 262.3,308.1 261.5,302.1 269.3,292 269.3,288.7 271.2,286.7 277.9,281.3 285.4,280 309.2,285.3 322.1,290.5 317.3,282.2 311.9,275.1 310,274.9 306.4,268.8 306.2,261.5 305.4,250.6 302.7,243.2 300.1,239.1 296.1,239.1 289.5,232.5 284.4,226.4 281.5,229.4 281,228.7 268,231.1 269.7,229.2 262.5,228.8 273.5,226.9 283.3,221.4 285.3,210.1 286.6,202.1 290.5,189.7 293.5,186 299.9,178.1 304.5,176 321.2,170 334.4,174 339.6,175.8 343.4,180.6 346.5,189.9 346.5,191.3 346.7,202.4 347.3,210.5 342,224.8 340.5,229.7 339.6,243.4 343.2,239.7 351.6,236 368.7,226.7 367.2,221.3 364.6,210.9 361.3,199.2 360,195.9 353.9,188.8 352.2,178.4 354.5,174.2 353.5,163.6 357.8,150.4 368.8,142.1 372.5,141 380.5,141"
path <-  gsub(' ', ',', path)
path <-  as.numeric(unlist(strsplit(path, ',')))
glyph <- data.frame(xsh = path[ c(T,F) ],
ysh = path[ c(F,T) ],
id  = 1)
glyph$xsh <- with(glyph, (mean(xsh) - xsh) / max(xsh, ysh) )
glyph$ysh <- with(glyph, (mean(ysh) - ysh) / max(xsh, ysh) )
library(ggplot2)
ggplot(glyph) +
theme_minimal() +
coord_equal() +
geom_polygon(aes(x = xsh, y = ysh, group = id),
color = 'black',
fill = 'lightblue') +
labs(x = 'x coordinates', 'y coordinates')
library(ggplot2)
ggplot(glyph) +
theme_minimal() +
# coord_equal() +
geom_polygon(aes(x = xsh, y = ysh, group = id),
color = 'black',
fill = 'lightblue') +
labs(x = 'x coordinates', 'y coordinates')
library(ggplot2)
ggplot(glyph) +
theme_minimal() +
coord_equal() +
geom_polygon(aes(x = xsh, y = ysh, group = id),
color = 'black',
fill = 'lightblue') +
labs(x = 'x coordinates', 'y coordinates')
glyph$xsh <- with(glyph, (mean(xsh) - xsh) / max(xsh) )
glyph$ysh <- with(glyph, (mean(ysh) - ysh) / max(ysh) )
library(ggplot2)
ggplot(glyph) +
theme_minimal() +
coord_equal() +
geom_polygon(aes(x = xsh, y = ysh, group = id),
color = 'black',
fill = 'lightblue') +
labs(x = 'x coordinates', 'y coordinates')
path <- "380.5,141 382.3,142 397.6,148.6 402.5,158.5 403.5,163.6 403.5,168.7 407.3,171.6 408.4,182.9 404.5,188.3 404.5,194.7 404.5,200.5 409,200 413.3,201.8 415.9,213.6 423.5,220.9 426.9,224.8 433.8,240.9 435.4,249.2 435.5,259.7 436.7,273.7 437.7,280.8 438.5,288.4 438.5,295.9 438.6,314.4 437.3,333.5 434.7,345.3 434.4,349.1 440.4,364.6 438,367 430.8,367 429.6,373.5 430.4,384.6 420.2,409.9 403.2,424.1 398.6,428.9 396,432.9 390.5,438.6 385.6,446.6 381.6,458.9 374.2,476.8 369.6,486.4 366.6,496.7 366.5,505.4 370.4,511.6 373.5,523.7 376.5,535 377.5,539.6 378.5,543.7 378.5,545.1 379.5,579.7 379.6,598.7 382.6,615.9 385.2,619.2 387.3,635.2 384.3,650.6 378.1,652 371.1,652 364.9,651.2 358.9,650.1 356.5,650 343.5,650.1 332.5,652.5 332.5,653 329.5,653 329.5,651.2 323.7,650.2 317.7,650.8 315.1,646.8 306.9,647.6 304.6,643.2 304.6,636.5 308.4,633.1 313.9,632 320,631 321,631 341.4,623.6 351.6,614.3 354.5,609.3 354.3,597.1 352.6,584.9 349.2,573.3 343,556.9 340.6,548.9 337.5,536.6 335.7,530.9 330.1,519.2 323.8,506.8 323.5,504.4 323.5,489.9 324.5,483.3 325.3,477.2 324.7,469.6 324.5,467.2 327.7,449.5 330.3,440.6 332.7,432 335.5,421.2 338.4,410.4 340.6,398.8 341.6,384.8 314.5,356.4 299.5,337.6 295,332 293.5,340.4 291.4,348.5 280.1,367.8 268.2,386 265.4,393.3 258.5,411.8 258.5,417.4 256.3,426.5 244.4,447.6 241.8,450.4 237.5,447.5 229.4,444 223.4,438.8 219.1,434.1 207.6,425.6 204.5,424.6 193.5,421.5 183.2,413.9 175.7,407.5 174.5,401.5 175.5,395.5 178.8,392.2 191.2,394.2 195.9,396 201.2,397.9 206.2,399 222.8,399.9 240.7,387.6 249.5,364.3 252.6,348.1 257.8,330.2 260.5,319.3 261.5,313.7 262.3,308.1 261.5,302.1 269.3,292 269.3,288.7 271.2,286.7 277.9,281.3 285.4,280 309.2,285.3 322.1,290.5 317.3,282.2 311.9,275.1 310,274.9 306.4,268.8 306.2,261.5 305.4,250.6 302.7,243.2 300.1,239.1 296.1,239.1 289.5,232.5 284.4,226.4 281.5,229.4 281,228.7 268,231.1 269.7,229.2 262.5,228.8 273.5,226.9 283.3,221.4 285.3,210.1 286.6,202.1 290.5,189.7 293.5,186 299.9,178.1 304.5,176 321.2,170 334.4,174 339.6,175.8 343.4,180.6 346.5,189.9 346.5,191.3 346.7,202.4 347.3,210.5 342,224.8 340.5,229.7 339.6,243.4 343.2,239.7 351.6,236 368.7,226.7 367.2,221.3 364.6,210.9 361.3,199.2 360,195.9 353.9,188.8 352.2,178.4 354.5,174.2 353.5,163.6 357.8,150.4 368.8,142.1 372.5,141 380.5,141"
path <-  gsub(' ', ',', path)
path <-  as.numeric(unlist(strsplit(path, ',')))
glyph <- data.frame(xsh = path[ c(T,F) ],
ysh = path[ c(F,T) ],
id  = 1)
glyph$xsh <- with(glyph, (mean(xsh) - xsh) / max(xsh) )
glyph$ysh <- with(glyph, (mean(ysh) - ysh) / max(ysh) )
library(ggplot2)
ggplot(glyph) +
theme_minimal() +
coord_equal() +
geom_polygon(aes(x = xsh, y = ysh, group = id),
color = 'black',
fill = 'lightblue') +
labs(x = 'x coordinates', 'y coordinates')
path <- "380.5,141 382.3,142 397.6,148.6 402.5,158.5 403.5,163.6 403.5,168.7 407.3,171.6 408.4,182.9 404.5,188.3 404.5,194.7 404.5,200.5 409,200 413.3,201.8 415.9,213.6 423.5,220.9 426.9,224.8 433.8,240.9 435.4,249.2 435.5,259.7 436.7,273.7 437.7,280.8 438.5,288.4 438.5,295.9 438.6,314.4 437.3,333.5 434.7,345.3 434.4,349.1 440.4,364.6 438,367 430.8,367 429.6,373.5 430.4,384.6 420.2,409.9 403.2,424.1 398.6,428.9 396,432.9 390.5,438.6 385.6,446.6 381.6,458.9 374.2,476.8 369.6,486.4 366.6,496.7 366.5,505.4 370.4,511.6 373.5,523.7 376.5,535 377.5,539.6 378.5,543.7 378.5,545.1 379.5,579.7 379.6,598.7 382.6,615.9 385.2,619.2 387.3,635.2 384.3,650.6 378.1,652 371.1,652 364.9,651.2 358.9,650.1 356.5,650 343.5,650.1 332.5,652.5 332.5,653 329.5,653 329.5,651.2 323.7,650.2 317.7,650.8 315.1,646.8 306.9,647.6 304.6,643.2 304.6,636.5 308.4,633.1 313.9,632 320,631 321,631 341.4,623.6 351.6,614.3 354.5,609.3 354.3,597.1 352.6,584.9 349.2,573.3 343,556.9 340.6,548.9 337.5,536.6 335.7,530.9 330.1,519.2 323.8,506.8 323.5,504.4 323.5,489.9 324.5,483.3 325.3,477.2 324.7,469.6 324.5,467.2 327.7,449.5 330.3,440.6 332.7,432 335.5,421.2 338.4,410.4 340.6,398.8 341.6,384.8 314.5,356.4 299.5,337.6 295,332 293.5,340.4 291.4,348.5 280.1,367.8 268.2,386 265.4,393.3 258.5,411.8 258.5,417.4 256.3,426.5 244.4,447.6 241.8,450.4 237.5,447.5 229.4,444 223.4,438.8 219.1,434.1 207.6,425.6 204.5,424.6 193.5,421.5 183.2,413.9 175.7,407.5 174.5,401.5 175.5,395.5 178.8,392.2 191.2,394.2 195.9,396 201.2,397.9 206.2,399 222.8,399.9 240.7,387.6 249.5,364.3 252.6,348.1 257.8,330.2 260.5,319.3 261.5,313.7 262.3,308.1 261.5,302.1 269.3,292 269.3,288.7 271.2,286.7 277.9,281.3 285.4,280 309.2,285.3 322.1,290.5 317.3,282.2 311.9,275.1 310,274.9 306.4,268.8 306.2,261.5 305.4,250.6 302.7,243.2 300.1,239.1 296.1,239.1 289.5,232.5 284.4,226.4 281.5,229.4 281,228.7 268,231.1 269.7,229.2 262.5,228.8 273.5,226.9 283.3,221.4 285.3,210.1 286.6,202.1 290.5,189.7 293.5,186 299.9,178.1 304.5,176 321.2,170 334.4,174 339.6,175.8 343.4,180.6 346.5,189.9 346.5,191.3 346.7,202.4 347.3,210.5 342,224.8 340.5,229.7 339.6,243.4 343.2,239.7 351.6,236 368.7,226.7 367.2,221.3 364.6,210.9 361.3,199.2 360,195.9 353.9,188.8 352.2,178.4 354.5,174.2 353.5,163.6 357.8,150.4 368.8,142.1 372.5,141 380.5,141"
path <-  gsub(' ', ',', path)
path <-  as.numeric(unlist(strsplit(path, ',')))
glyph <- data.frame(xsh = path[ c(T,F) ],
ysh = path[ c(F,T) ],
id  = 1)
glyph$xsh <- with(glyph, (mean(xsh) - xsh) / max(c(xsh, ysh)) )
glyph$ysh <- with(glyph, (mean(ysh) - ysh) / max(c(ysh, ysh)) )
library(ggplot2)
ggplot(glyph) +
theme_minimal() +
coord_equal() +
geom_polygon(aes(x = xsh, y = ysh, group = id),
color = 'black',
fill = 'lightblue') +
labs(x = 'x coordinates', 'y coordinates')
?max
d <- data.frame(x = rnorm(10, 50, 5),
y = rnorm(10, 30, 5),
size = rexp(10, 1))
seq_len(NROW(d))
d <- data.frame(x = rnorm(10, 50, 5),
y = rnorm(10, 30, 5),
size = rexp(10, 1))
# each row is an observation
d$observation <- seq_len( NROW(d) )
# add a glyph id variable to match the glyph id
d$id <- 1
d$observation <- seq_len( NROW(d) )
d$id <- 1
d <- merge(d, glyph)
ggplot(d) +
theme_minimal() +
coord_equal() +
geom_polygon(aes(x = x + xsh * size,
y = y + ysh * size,
group = observation,
fill = size),
color = "black")
d <- data.frame(x = rnorm(10, 50, 5),
y = rnorm(10, 30, 5),
size = rexp(10, 2))
d$observation <- seq_len( NROW(d) )
d$id <- 1
d <- merge(d, glyph)
ggplot(d) +
theme_minimal() +
coord_equal() +
geom_polygon(aes(x = x + xsh * size,
y = y + ysh * size,
group = observation,
fill = size),
color = "black")
d <- data.frame(x = rnorm(10, 50, 5),
y = rnorm(10, 30, 5),
size = rexp(10, 3))
d$observation <- seq_len( NROW(d) )
d$id <- 1
d <- merge(d, glyph)
ggplot(d) +
theme_minimal() +
coord_equal() +
geom_polygon(aes(x = x + xsh * size,
y = y + ysh * size,
group = observation,
fill = size),
color = "black")
path <- "380.5,141 382.3,142 397.6,148.6 402.5,158.5 403.5,163.6 403.5,168.7 407.3,171.6 408.4,182.9 404.5,188.3 404.5,194.7 404.5,200.5 409,200 413.3,201.8 415.9,213.6 423.5,220.9 426.9,224.8 433.8,240.9 435.4,249.2 435.5,259.7 436.7,273.7 437.7,280.8 438.5,288.4 438.5,295.9 438.6,314.4 437.3,333.5 434.7,345.3 434.4,349.1 440.4,364.6 438,367 430.8,367 429.6,373.5 430.4,384.6 420.2,409.9 403.2,424.1 398.6,428.9 396,432.9 390.5,438.6 385.6,446.6 381.6,458.9 374.2,476.8 369.6,486.4 366.6,496.7 366.5,505.4 370.4,511.6 373.5,523.7 376.5,535 377.5,539.6 378.5,543.7 378.5,545.1 379.5,579.7 379.6,598.7 382.6,615.9 385.2,619.2 387.3,635.2 384.3,650.6 378.1,652 371.1,652 364.9,651.2 358.9,650.1 356.5,650 343.5,650.1 332.5,652.5 332.5,653 329.5,653 329.5,651.2 323.7,650.2 317.7,650.8 315.1,646.8 306.9,647.6 304.6,643.2 304.6,636.5 308.4,633.1 313.9,632 320,631 321,631 341.4,623.6 351.6,614.3 354.5,609.3 354.3,597.1 352.6,584.9 349.2,573.3 343,556.9 340.6,548.9 337.5,536.6 335.7,530.9 330.1,519.2 323.8,506.8 323.5,504.4 323.5,489.9 324.5,483.3 325.3,477.2 324.7,469.6 324.5,467.2 327.7,449.5 330.3,440.6 332.7,432 335.5,421.2 338.4,410.4 340.6,398.8 341.6,384.8 314.5,356.4 299.5,337.6 295,332 293.5,340.4 291.4,348.5 280.1,367.8 268.2,386 265.4,393.3 258.5,411.8 258.5,417.4 256.3,426.5 244.4,447.6 241.8,450.4 237.5,447.5 229.4,444 223.4,438.8 219.1,434.1 207.6,425.6 204.5,424.6 193.5,421.5 183.2,413.9 175.7,407.5 174.5,401.5 175.5,395.5 178.8,392.2 191.2,394.2 195.9,396 201.2,397.9 206.2,399 222.8,399.9 240.7,387.6 249.5,364.3 252.6,348.1 257.8,330.2 260.5,319.3 261.5,313.7 262.3,308.1 261.5,302.1 269.3,292 269.3,288.7 271.2,286.7 277.9,281.3 285.4,280 309.2,285.3 322.1,290.5 317.3,282.2 311.9,275.1 310,274.9 306.4,268.8 306.2,261.5 305.4,250.6 302.7,243.2 300.1,239.1 296.1,239.1 289.5,232.5 284.4,226.4 281.5,229.4 281,228.7 268,231.1 269.7,229.2 262.5,228.8 273.5,226.9 283.3,221.4 285.3,210.1 286.6,202.1 290.5,189.7 293.5,186 299.9,178.1 304.5,176 321.2,170 334.4,174 339.6,175.8 343.4,180.6 346.5,189.9 346.5,191.3 346.7,202.4 347.3,210.5 342,224.8 340.5,229.7 339.6,243.4 343.2,239.7 351.6,236 368.7,226.7 367.2,221.3 364.6,210.9 361.3,199.2 360,195.9 353.9,188.8 352.2,178.4 354.5,174.2 353.5,163.6 357.8,150.4 368.8,142.1 372.5,141 380.5,141"
path <-  gsub(' ', ',', path)
path <-  as.numeric(unlist(strsplit(path, ',')))
glyph <- data.frame(xsh = path[ c(T,F) ],
ysh = path[ c(F,T) ],
id  = 1)
glyph$xsh <- with(glyph, (mean(xsh) - xsh) / max(xsh, ysh) )
glyph$ysh <- with(glyph, (mean(ysh) - ysh) / max(ysh, ysh) )
library(ggplot2)
ggplot(glyph) +
theme_minimal() +
coord_equal() +
geom_polygon(aes(x = xsh, y = ysh, group = id),
color = 'black',
fill = 'lightblue') +
labs(x = 'x coordinates', 'y coordinates')
d <- data.frame(x = rnorm(10, 50, 5),
y = rnorm(10, 30, 5),
size = rexp(10, 3))
d$observation <- seq_len( NROW(d) )
d$id <- 1
d <- merge(d, glyph)
ggplot(d) +
theme_minimal() +
coord_equal() +
geom_polygon(aes(x = x + xsh * size,
y = y + ysh * size,
group = observation,
fill = size),
color = "black")
rnorm(10, 5, 1)
path <- "380.5,141 382.3,142 397.6,148.6 402.5,158.5 403.5,163.6 403.5,168.7 407.3,171.6 408.4,182.9 404.5,188.3 404.5,194.7 404.5,200.5 409,200 413.3,201.8 415.9,213.6 423.5,220.9 426.9,224.8 433.8,240.9 435.4,249.2 435.5,259.7 436.7,273.7 437.7,280.8 438.5,288.4 438.5,295.9 438.6,314.4 437.3,333.5 434.7,345.3 434.4,349.1 440.4,364.6 438,367 430.8,367 429.6,373.5 430.4,384.6 420.2,409.9 403.2,424.1 398.6,428.9 396,432.9 390.5,438.6 385.6,446.6 381.6,458.9 374.2,476.8 369.6,486.4 366.6,496.7 366.5,505.4 370.4,511.6 373.5,523.7 376.5,535 377.5,539.6 378.5,543.7 378.5,545.1 379.5,579.7 379.6,598.7 382.6,615.9 385.2,619.2 387.3,635.2 384.3,650.6 378.1,652 371.1,652 364.9,651.2 358.9,650.1 356.5,650 343.5,650.1 332.5,652.5 332.5,653 329.5,653 329.5,651.2 323.7,650.2 317.7,650.8 315.1,646.8 306.9,647.6 304.6,643.2 304.6,636.5 308.4,633.1 313.9,632 320,631 321,631 341.4,623.6 351.6,614.3 354.5,609.3 354.3,597.1 352.6,584.9 349.2,573.3 343,556.9 340.6,548.9 337.5,536.6 335.7,530.9 330.1,519.2 323.8,506.8 323.5,504.4 323.5,489.9 324.5,483.3 325.3,477.2 324.7,469.6 324.5,467.2 327.7,449.5 330.3,440.6 332.7,432 335.5,421.2 338.4,410.4 340.6,398.8 341.6,384.8 314.5,356.4 299.5,337.6 295,332 293.5,340.4 291.4,348.5 280.1,367.8 268.2,386 265.4,393.3 258.5,411.8 258.5,417.4 256.3,426.5 244.4,447.6 241.8,450.4 237.5,447.5 229.4,444 223.4,438.8 219.1,434.1 207.6,425.6 204.5,424.6 193.5,421.5 183.2,413.9 175.7,407.5 174.5,401.5 175.5,395.5 178.8,392.2 191.2,394.2 195.9,396 201.2,397.9 206.2,399 222.8,399.9 240.7,387.6 249.5,364.3 252.6,348.1 257.8,330.2 260.5,319.3 261.5,313.7 262.3,308.1 261.5,302.1 269.3,292 269.3,288.7 271.2,286.7 277.9,281.3 285.4,280 309.2,285.3 322.1,290.5 317.3,282.2 311.9,275.1 310,274.9 306.4,268.8 306.2,261.5 305.4,250.6 302.7,243.2 300.1,239.1 296.1,239.1 289.5,232.5 284.4,226.4 281.5,229.4 281,228.7 268,231.1 269.7,229.2 262.5,228.8 273.5,226.9 283.3,221.4 285.3,210.1 286.6,202.1 290.5,189.7 293.5,186 299.9,178.1 304.5,176 321.2,170 334.4,174 339.6,175.8 343.4,180.6 346.5,189.9 346.5,191.3 346.7,202.4 347.3,210.5 342,224.8 340.5,229.7 339.6,243.4 343.2,239.7 351.6,236 368.7,226.7 367.2,221.3 364.6,210.9 361.3,199.2 360,195.9 353.9,188.8 352.2,178.4 354.5,174.2 353.5,163.6 357.8,150.4 368.8,142.1 372.5,141 380.5,141"
path <-  gsub(' ', ',', path)
path <-  as.numeric(unlist(strsplit(path, ',')))
glyph <- data.frame(xsh = path[ c(T,F) ],
ysh = path[ c(F,T) ],
id  = 1)
glyph$xsh <- with(glyph, (mean(xsh) - xsh) / max(xsh, ysh) )
glyph$ysh <- with(glyph, (mean(ysh) - ysh) / max(ysh, ysh) )
library(ggplot2)
ggplot(glyph) +
theme_minimal() +
coord_equal() +
geom_polygon(aes(x = xsh, y = ysh, group = id),
color = 'black',
fill = 'lightblue') +
labs(x = 'x coordinates', 'y coordinates')
d <- data.frame(x = rnorm(10, 50, 5),
y = rnorm(10, 30, 5),
size = rnorm(10, 5, 1))
d$observation <- seq_len( NROW(d) )
d$id <- 1
d <- merge(d, glyph)
ggplot(d) +
theme_minimal() +
coord_equal() +
geom_polygon(aes(x = x + xsh * size,
y = y + ysh * size,
group = observation,
fill = size),
color = "black")
ggplot(d) +
theme_minimal(legend.position = '') +
coord_equal() +
geom_polygon(aes(x = x + xsh * size,
y = y + ysh * size,
group = observation,
fill = size),
color = "black")
ggplot(d) +
theme_minimal() +
theme(legend.position = '') +
coord_equal() +
geom_polygon(aes(x = x + xsh * size,
y = y + ysh * size,
group = observation,
fill = size),
color = "black")
?max
?range
path <- "380.5,141 382.3,142 397.6,148.6 402.5,158.5 403.5,163.6 403.5,168.7 407.3,171.6 408.4,182.9 404.5,188.3 404.5,194.7 404.5,200.5 409,200 413.3,201.8 415.9,213.6 423.5,220.9 426.9,224.8 433.8,240.9 435.4,249.2 435.5,259.7 436.7,273.7 437.7,280.8 438.5,288.4 438.5,295.9 438.6,314.4 437.3,333.5 434.7,345.3 434.4,349.1 440.4,364.6 438,367 430.8,367 429.6,373.5 430.4,384.6 420.2,409.9 403.2,424.1 398.6,428.9 396,432.9 390.5,438.6 385.6,446.6 381.6,458.9 374.2,476.8 369.6,486.4 366.6,496.7 366.5,505.4 370.4,511.6 373.5,523.7 376.5,535 377.5,539.6 378.5,543.7 378.5,545.1 379.5,579.7 379.6,598.7 382.6,615.9 385.2,619.2 387.3,635.2 384.3,650.6 378.1,652 371.1,652 364.9,651.2 358.9,650.1 356.5,650 343.5,650.1 332.5,652.5 332.5,653 329.5,653 329.5,651.2 323.7,650.2 317.7,650.8 315.1,646.8 306.9,647.6 304.6,643.2 304.6,636.5 308.4,633.1 313.9,632 320,631 321,631 341.4,623.6 351.6,614.3 354.5,609.3 354.3,597.1 352.6,584.9 349.2,573.3 343,556.9 340.6,548.9 337.5,536.6 335.7,530.9 330.1,519.2 323.8,506.8 323.5,504.4 323.5,489.9 324.5,483.3 325.3,477.2 324.7,469.6 324.5,467.2 327.7,449.5 330.3,440.6 332.7,432 335.5,421.2 338.4,410.4 340.6,398.8 341.6,384.8 314.5,356.4 299.5,337.6 295,332 293.5,340.4 291.4,348.5 280.1,367.8 268.2,386 265.4,393.3 258.5,411.8 258.5,417.4 256.3,426.5 244.4,447.6 241.8,450.4 237.5,447.5 229.4,444 223.4,438.8 219.1,434.1 207.6,425.6 204.5,424.6 193.5,421.5 183.2,413.9 175.7,407.5 174.5,401.5 175.5,395.5 178.8,392.2 191.2,394.2 195.9,396 201.2,397.9 206.2,399 222.8,399.9 240.7,387.6 249.5,364.3 252.6,348.1 257.8,330.2 260.5,319.3 261.5,313.7 262.3,308.1 261.5,302.1 269.3,292 269.3,288.7 271.2,286.7 277.9,281.3 285.4,280 309.2,285.3 322.1,290.5 317.3,282.2 311.9,275.1 310,274.9 306.4,268.8 306.2,261.5 305.4,250.6 302.7,243.2 300.1,239.1 296.1,239.1 289.5,232.5 284.4,226.4 281.5,229.4 281,228.7 268,231.1 269.7,229.2 262.5,228.8 273.5,226.9 283.3,221.4 285.3,210.1 286.6,202.1 290.5,189.7 293.5,186 299.9,178.1 304.5,176 321.2,170 334.4,174 339.6,175.8 343.4,180.6 346.5,189.9 346.5,191.3 346.7,202.4 347.3,210.5 342,224.8 340.5,229.7 339.6,243.4 343.2,239.7 351.6,236 368.7,226.7 367.2,221.3 364.6,210.9 361.3,199.2 360,195.9 353.9,188.8 352.2,178.4 354.5,174.2 353.5,163.6 357.8,150.4 368.8,142.1 372.5,141 380.5,141"
path <-  gsub(' ', ',', path)
path <-  as.numeric(unlist(strsplit(path, ',')))
glyph <- data.frame(xsh = path[ c(T,F) ],
ysh = path[ c(F,T) ],
id  = 1)
range(xsh, ysh)
with(glyph, range(xsh, ysh))
?dist
with(glyph, range(xsh, ysh))
with(glyph, dist(range(xsh, ysh)))
glyph$xsh <- with(glyph, (mean(xsh) - xsh) / dist( range(xsh, ysh) ) )
glyph$ysh <- with(glyph, (mean(ysh) - ysh) / dist( range(xsh, ysh) ) )
library(ggplot2)
ggplot(glyph) +
theme_minimal() +
coord_equal() +
geom_polygon(aes(x = xsh,
y = ysh,
group = id),
color = 'black',
fill = 'lightblue') +
labs(x = 'x coordinates',
y = 'y coordinates')
path <- "380.5,141 382.3,142 397.6,148.6 402.5,158.5 403.5,163.6 403.5,168.7 407.3,171.6 408.4,182.9 404.5,188.3 404.5,194.7 404.5,200.5 409,200 413.3,201.8 415.9,213.6 423.5,220.9 426.9,224.8 433.8,240.9 435.4,249.2 435.5,259.7 436.7,273.7 437.7,280.8 438.5,288.4 438.5,295.9 438.6,314.4 437.3,333.5 434.7,345.3 434.4,349.1 440.4,364.6 438,367 430.8,367 429.6,373.5 430.4,384.6 420.2,409.9 403.2,424.1 398.6,428.9 396,432.9 390.5,438.6 385.6,446.6 381.6,458.9 374.2,476.8 369.6,486.4 366.6,496.7 366.5,505.4 370.4,511.6 373.5,523.7 376.5,535 377.5,539.6 378.5,543.7 378.5,545.1 379.5,579.7 379.6,598.7 382.6,615.9 385.2,619.2 387.3,635.2 384.3,650.6 378.1,652 371.1,652 364.9,651.2 358.9,650.1 356.5,650 343.5,650.1 332.5,652.5 332.5,653 329.5,653 329.5,651.2 323.7,650.2 317.7,650.8 315.1,646.8 306.9,647.6 304.6,643.2 304.6,636.5 308.4,633.1 313.9,632 320,631 321,631 341.4,623.6 351.6,614.3 354.5,609.3 354.3,597.1 352.6,584.9 349.2,573.3 343,556.9 340.6,548.9 337.5,536.6 335.7,530.9 330.1,519.2 323.8,506.8 323.5,504.4 323.5,489.9 324.5,483.3 325.3,477.2 324.7,469.6 324.5,467.2 327.7,449.5 330.3,440.6 332.7,432 335.5,421.2 338.4,410.4 340.6,398.8 341.6,384.8 314.5,356.4 299.5,337.6 295,332 293.5,340.4 291.4,348.5 280.1,367.8 268.2,386 265.4,393.3 258.5,411.8 258.5,417.4 256.3,426.5 244.4,447.6 241.8,450.4 237.5,447.5 229.4,444 223.4,438.8 219.1,434.1 207.6,425.6 204.5,424.6 193.5,421.5 183.2,413.9 175.7,407.5 174.5,401.5 175.5,395.5 178.8,392.2 191.2,394.2 195.9,396 201.2,397.9 206.2,399 222.8,399.9 240.7,387.6 249.5,364.3 252.6,348.1 257.8,330.2 260.5,319.3 261.5,313.7 262.3,308.1 261.5,302.1 269.3,292 269.3,288.7 271.2,286.7 277.9,281.3 285.4,280 309.2,285.3 322.1,290.5 317.3,282.2 311.9,275.1 310,274.9 306.4,268.8 306.2,261.5 305.4,250.6 302.7,243.2 300.1,239.1 296.1,239.1 289.5,232.5 284.4,226.4 281.5,229.4 281,228.7 268,231.1 269.7,229.2 262.5,228.8 273.5,226.9 283.3,221.4 285.3,210.1 286.6,202.1 290.5,189.7 293.5,186 299.9,178.1 304.5,176 321.2,170 334.4,174 339.6,175.8 343.4,180.6 346.5,189.9 346.5,191.3 346.7,202.4 347.3,210.5 342,224.8 340.5,229.7 339.6,243.4 343.2,239.7 351.6,236 368.7,226.7 367.2,221.3 364.6,210.9 361.3,199.2 360,195.9 353.9,188.8 352.2,178.4 354.5,174.2 353.5,163.6 357.8,150.4 368.8,142.1 372.5,141 380.5,141"
path <-  gsub(' ', ',', path)
path <-  as.numeric(unlist(strsplit(path, ',')))
glyph <- data.frame(xsh = path[ c(T,F) ],
ysh = path[ c(F,T) ],
id  = 1)
glyph$xsh <- with(glyph, (mean(xsh) - xsh) / dist( range(xsh, ysh) ) )
glyph$ysh <- with(glyph, (mean(ysh) - ysh) / dist( range(xsh, ysh) ) )
library(ggplot2)
ggplot(glyph) +
theme_minimal() +
coord_equal() +
geom_polygon(aes(x = xsh,
y = ysh,
group = id),
color = 'black',
fill = 'lightblue') +
labs(x = 'x coordinates',
y = 'y coordinates')
d <- data.frame(x = rnorm(10, 50, 5),
y = rnorm(10, 30, 5),
size = rnorm(10, 4, 1))
d$observation <- seq_len( NROW(d) )
d$id <- 1
d <- merge(d, glyph)
ggplot(d) +
theme_minimal() +
theme(legend.position = '') +
coord_equal() +
geom_polygon(aes(x = x + xsh * size,
y = y + ysh * size,
group = observation,
fill = size),
color = "black") +
labs(x = 'x coordinates',
y = 'y coordinates')
?blogdown::new_post
getOption("blogdown.subdir", "post")
setOption("blogdown.subdir", "content/post")
blogdown::setOption("blogdown.subdir", "content/post")
?getOption
.Options
options("blogdown.subdir" = "content/post")
blogdown:::serve_site()
getOption("blogdown.subdir", "post")
options("blogdown.subdir" = "content/post")
getOption("blogdown.subdir", "post")
options("blogdown.subdir" = "content/post")
getOption("blogdown.subdir", "post")
blogdown:::serve_site()
blogdown:::new_post_addin()
?blogdown::new_content
blogdown:::serve_site()
blogdown:::new_post_addin()
?blogdown:::new_post_addin
blogdown:::new_post_addin()
?blogdown::new_post
blogdown::new_post
debug(blogdown::new_post)
blogdown:::new_post_addin()
kind
generator()
grobWidth()
grid::grobWidth()
blogdown:::serve_site()
install.packages(c("httpcode", "metR", "sf", "survival"))
install_github("r-spatial/sf")
devtools::install_github("r-spatial/sf")
install_github("r-spatial/sf", configure.args = "--with-proj-lib=/usr/local/lib/")
devtools::install_github("r-spatial/sf", configure.args = "--with-proj-lib=/usr/local/lib/")
blogdown:::serve_site()
servr::daemon_stop(1)
blogdown:::serve_site()
blogdown::stop_server()
blogdown:::serve_site()
install.packages(c("bit64", "TTR"))
blogdown:::new_post_addin()
blogdown:::serve_site()
